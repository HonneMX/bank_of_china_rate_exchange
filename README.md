# Парсер курса USD от Банка Китая

Этот скрипт автоматически собирает курс USD от Банка Китая и сохраняет его в CSV файл.

## Функциональность

- Сбор курса USD с сайта Банка Китая
- Автоматическое сохранение данных в CSV файл
- Логирование всех операций
- Автоматические повторные попытки при сбоях
- Все курсы сохраняются в один файл `data/exchange_rates.csv`

## Требования

- Python 3.6+
- Установленные зависимости из `requirements.txt`

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd <repository-directory>
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

## Настройка cron job

### Linux/macOS

1. Откройте crontab для редактирования:
```bash
crontab -e
```

2. Добавьте следующую строку для запуска скрипта каждый час:
```bash
0 * * * * cd /путь/к/директории/со/скриптом && python3 boc_exchange_rate_parser.py
```

### Windows

1. Откройте планировщик заданий Windows (Task Scheduler)
2. Создайте новое задание:
   - Триггер: Ежечасно
   - Действие: Запустить программу
   - Программа: `python`
   - Аргументы: `boc_exchange_rate_parser.py`
   - Начальная папка: путь к директории со скриптом

## Структура данных

Данные сохраняются в файл `data/exchange_rates.csv` со следующими колонками:
- Currency Name - Название валюты (USD)
- Buying Rate - Курс покупки
- Cash Buying Rate - Курс покупки наличными
- Selling Rate - Курс продажи
- Cash Selling Rate - Курс продажи наличными
- Middle Rate - Средний курс
- Pub Time - Время публикации
- Timestamp - Временная метка записи

## Логирование

Все операции логируются в файл `boc_exchange_rate.log` и выводятся в консоль.

## Обработка ошибок

Скрипт автоматически делает до 3 попыток при сбоях с задержкой 5 секунд между попытками. 